<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>应付冲款</title>

	<style>
		.layui-form-item .layui-input-inline {
			width: 400px;
		}

		.layui-form-label {
			width: 100px;
			text-align: left;
		}

		.layui-tab-content {
			padding: 0px;
		}

		.layui-tab-item {
			height: 260px;
		}
	</style>
	<link rel="stylesheet" href="../../layui/css/layui.css">
	<link rel="stylesheet" href="../../css/common.css">


</head>
<body style="width: 100%;padding: 10px 20px;box-sizing: border-box;min-width: 900px;">
<form class="layui-form" style="margin: 0px auto;" action="" id="vmindexCnt">
	<div v-for="(temp,index) in pageInfo.list">

	<div class="layui-form-item" >
		<div class="layui-input-block" style="margin-left: 0">
			<ul class="layui-nav" style="background-color: transparent;">
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="上一条" id="menu-prev">
						<i class="layui-icon">&#xe603;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="下一条" id="menu-next">
						<i class="layui-icon">&#xe602;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="新增" id="menu-add">
						<i class="layui-icon">&#xe654;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="修改" id="menu-update" disabled>
						<i class="layui-icon">&#xe642;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="删除" id="menu-delete">
						<i class="layui-icon">&#xe640;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="审核" id="menu-adopt" disabled="">
						<i class="layui-icon">&#xe605;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="反审核" id="menu-refuse">
						<i class="layui-icon">&#x1006;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="刷新" id="menu-refresh">
						<i class="layui-icon">&#x1002;</i>
					</a>
				</li>
				<li class="layui-nav-item" style="margin-left: 20px;">
					<a href="javascript:;">转单</a>
					<dl class="layui-nav-child">
						<dd><a href="">载入单币别账款</a></dd>
						<dd><a href="">载入多币别账款</a></dd>
						<dd><a href="">载入预付</a></dd>
					</dl>
                </li>
				<li class="layui-nav-item" style="margin-left: 20px;">
					<a href="javascript:;">自动计算</a>
					<dl class="layui-nav-child">
						<dd><a href="">以下冲款</a></dd>
						<dd><a href="">以下折让</a></dd>
						<dd><a href="">以下空白</a></dd>
					</dl>
				</li>
			</ul>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">供应商</label>
		<div class="layui-input-inline">
			<input type="text" name="title"  id="customername"   required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">单据日期</label>
		<div class="layui-input-inline">
			<input type="date" name="title"  id="fundbilldate" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">结算方式一</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="cashstylename"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
            <input type="text" name="title" id="cash"  required lay-verify="required" placeholder="请输入标题"
                   autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">单据号码</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="fundbillid"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">结算方式二</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="visastylename"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
            <input type="text" name="title" id=""  required lay-verify="required" placeholder="请输入标题"
                   autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">币别</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="bcurrencyname"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">算方式三</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="otherpaystylename"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
            <input type="text" name="title" id="otherpay"  required lay-verify="required" placeholder="请输入标题"
                   autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">汇率</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="exchangerate"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>

	<div class="layui-form-item">
		<label class="layui-form-label">折扣率</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="discountper"  required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">终止账月</label>
		<div class="layui-input-inline">
			<input type="text" name="title"id="accmonthtomonth" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>

	</div>

	<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief" style="overflow: scroll;">
		<ul class="layui-tab-title">
			<li class="layui-this">内容</li>
			<li>取用预收</li>
			<li>备注</li>
		</ul>
		<div class="layui-tab-content" >
			<div class="layui-tab-item layui-show" style="width: 2000px;">
				<table class="layui-table">
					<colgroup>
						<col width="85">
						<col width="85">
						<col>
					</colgroup>
					<thead>
					<tr >
						<th>(栏号)</th>
						<th>单别</th>
						<th>(原单日期)</th>
						<th>(原单编号)</th>

						<th>(原单金额)</th>
						<th>(现行余额)</th>
						<th>折让金额</th>
						<th>冲款金额</th>
						<th>冲抵金额</th>
					</tr>
					</thead>
					<tbody id="list">

					</tbody>
				</table>
			</div>
			<div class="layui-tab-item " style="width: 1500px;">
				<table class="layui-table">
					<colgroup>
						<col width="145">
						<col width="145">
						<col>
					</colgroup>
					<thead>
					<tr>
						<th>(栏号)</th>
						<th>（应付冲款单号）</th>
						<th>(来源类别)</th>
						<th>(来源单号)</th>
						<th>(预付余额)</th>
						<th>取用预付金额</th>
						<th>（来源摘要）</th>
					</tr>
					</thead>
					<tbody id="list1">

					</tbody>
				</table>
			</div>
			<div class="layui-tab-item">
				<div class="layui-form-item">
					<label class="layui-form-label">自定义栏一</label>
					<div class="layui-input-inline">
						<select name="city" lay-verify="required">
							<option value=""></option>
						</select>
					</div>
					<label class="layui-form-label">自定义栏二</label>
					<div class="layui-input-inline">
						<select name="city" lay-verify="required">
							<option value=""></option>
						</select>
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">文本域</label>
					<div class="layui-input-block">
						<textarea name="desc" placeholder="请输入内容"
							  class="layui-textarea"></textarea>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">所属部门</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="departnamefrom" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">制单人员</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="makersign" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">所属项目</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
		<label class="layui-form-label">复核人员</label>
		<div class="layui-input-inline">
			<input type="text" name="title" id="fermittersign" required lay-verify="required" placeholder="请输入标题"
			       autocomplete="off" class="layui-input">
		</div>
	</div>
	</div>
</form>
</body>

<script src="../../js/jquery-1.12.4.js"></script>
<script src="../../layui/layui.js"></script>
<script src="../../layui/lay/dest/layui.all.js"></script>
<script type="text/javascript">
    var num=1;
    var pageinfo={};
    function load(num){
        $.post("/query/queryyingfu",{
            "page":num
        },function (data) {
            pageinfo=data;
            $.each(data.list,function (i,obj) {

                $("#customername").val(obj.customername);
                $("#fundbilldate").val(obj.fundbilldate);
                $("#cashstylename").val(obj.cashstylename);
                $("#cash").val(obj.cash);
                $("#fundbillid").val(obj.fundbillid);
                $("#visastylename").val(obj.visastylename);
                $("#bcurrencyname").val(obj.bcurrencyname);
                $("#otherpaystylename").val(obj.otherpaystylename);
                $("#otherpay").val(obj.otherpay);
                $("#exchangerate").val(obj.exchangerate);
                $("#discountper").val(obj.discountper);
                $("#accmonthtomonth").val(obj.accmonthtomonth);
                $.each(obj.ru,function (j,objs) {
                    $("#list").html("");
                    var $row=("<tr><td>"+(i+1)+"</td><td> "+objs.sourcelist+"</td><td></td><td>"+objs.fundbillid+"</td><td>"+objs.originalamount+"</td><td>"+objs.allowanceamount+"</td><td>"+objs.moneycharged+"</td><td>"+objs.offsetamount+"</td></tr>");
                    $("#list").append($row);

                });
                $.each(obj.pre,function (j,objs) {
                    $("#list1").html("");
                    var $row=("<tr><td>"+(i+1)+"</td><td> "+objs.fundbillid+"</td><td>"+objs.sourcelist+"</td><td>"+objs.sourceorder+"</td><td>"+objs.curprerecv+"</td><td>"+objs.prepaidamount+"</td><td>"+objs.remarks+"</td></tr>");
                    $("#list1").append($row);

                });

            })



        });
    }
    load(num);


    $("#menu-prev").click(function () {
        load(pageinfo.prePage==0?1:pageinfo.prePage);
    });
    $("#menu-next").click(function () {
        load(pageinfo.pageNum==pageinfo.lastPage?pageinfo.lastPage:pageinfo.nextPage);
    })

</script>
</html>
