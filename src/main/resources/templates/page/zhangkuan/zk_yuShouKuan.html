<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>预收款</title>
	<link rel="icon" href="../../favicon.ico">
	<link rel="stylesheet" href="../../layui/css/layui.css" media="all"/>
	<link rel="stylesheet" href="../../css/zhangkuan/zk_yingShouChongKuan.css">
	<style>
	</style>
	<link rel="stylesheet" href="../../css/common.css">
</head>
<body style="width: 100%;padding: 10px 20px;box-sizing: border-box;min-width: 900px;">
<form class="layui-form" action="" id="vmindexCnt">
	<div v-for="(temp,index) in pageInfo.list">
	<div class="layui-form-item">
		<div class="layui-input-block" style="margin-left: 0">
			<ul class="layui-nav" style="background-color: transparent;">
				<li class="layui-nav-item">
					<a  @click="goToPage($event,(pageInfo.prePage==0?1:pageInfo.prePage))" href="javascript:;" class="iconfont menu-list" title="上一条" id="menu-prev">
						<i class="layui-icon">&#xe603;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a  @click="goToPage($event,(pageInfo.pageNum==pageInfo.lastPage?pageInfo.lastPage:pageInfo.nextPage))" href="javascript:;" class="iconfont menu-list" title="下一条" id="menu-next">
						<i class="layui-icon">&#xe602;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="新增" id="menu-add">
						<i class="layui-icon">&#xe654;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="修改" id="menu-update" disabled>
						<i class="layui-icon">&#xe642;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="删除" id="menu-delete">
						<i class="layui-icon">&#xe640;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="审核" id="menu-adopt" disabled="">
						<i class="layui-icon">&#xe605;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="反审核" id="menu-refuse">
						<i class="layui-icon">&#x1006;</i>
					</a>
				</li>
				<li class="layui-nav-item">
					<a href="javascript:;" class="iconfont menu-list" title="刷新" id="menu-refresh">
						<i class="layui-icon">&#x1002;</i>
					</a>
				</li>

			</ul>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">客户</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input" v-model="temp.customername">
		</div>
		<label class="layui-form-label">单据时间</label>
		<div class="layui-input-inline">
			<input type="date" name="title" v-model="temp.fundbilldate" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">结算方式一</label>
		<div class="layui-input-inline">
			<input type="text" name="title" v-model="temp.cashstylename" required lay-verify="required" autocomplete="off"
			       class="layui-input">
			&nbsp;&nbsp;
			<input type="text" name="title" v-model="temp.cash"  required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">单据号码</label>
		<div class="layui-input-inline">
			<input type="text" name="title" v-model="temp.fundbillid"   required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">结算方式二</label>
		<div class="layui-input-inline">
			<input type="text" name="title"   v-model="temp.visastylename" required lay-verify="required" autocomplete="off"
			       class="layui-input">
			&nbsp;&nbsp;
			<input type="text" name="title"  v-model="temp.visa" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">币别</label>
		<div class="layui-input-inline">
			<input type="text" name="title" v-model="temp.bcurrencyname" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">结算方式三</label>
		<div class="layui-input-inline">
			<input type="text" name="title" v-model="temp.otherpaystylename"   required lay-verify="required" autocomplete="off"
			       class="layui-input">
			&nbsp;&nbsp;
			<input type="text" name="title" v-model="temp.otherpay"  required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">汇率</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">折扣率(%)</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>

	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">终止账月</label>
		<div class="layui-input-inline">
			<input type="date" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">凭证编号</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-tab layui-tab-card" id="tab1">
		<ul class="layui-tab-title">
			<li class="layui-this">内容</li>
			<li>备注</li>
		</ul>
		<div class="layui-tab-content" style="height: 200px;">
			<div class="layui-tab-item layui-show">
				<table class="layui-table">
					<colgroup>
						<col width="150">
						<col width="200">
						<col>
					</colgroup>
					<thead>
					<tr>
						<th>预收金额</th>
						<th>来源别</th>
						<th>来源单号</th>
						<th>摘要</th>
					</tr>
					</thead>
					<tbody>
							<tr v-for="(temp1,index) in temp.list">
									<td v-text="temp1.curprerecv"></td>
									<td v-text="temp1.sourcelist"></td>
									<td v-text="temp1.sourcenumber"></td>
									<td v-text="temp1.remarks"></td>
							</tr>
					</tbody>
				</table>
			</div>
			<div class="layui-tab-item ">
				<div class="layui-form-item">
					<label class="layui-form-label">自定栏一</label>
					<div class="layui-input-inline">
						<select class="layui-select" lay-verify="required">
							<option value="">请选择</option>
						</select>
					</div>
					<label class="layui-form-label">自定栏二</label>
					<div class="layui-input-inline">
						<select class="layui-select" lay-verify="required">
							<option value="">请选择</option>
						</select>
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-form-item layui-form-text">
						<label class="layui-form-label">备注</label>
						<div class="layui-input-block">
							<textarea name="desc" placeholder="请输入内容"
								  class="layui-textarea"></textarea>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">所属部门</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">制单人员</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">所属项目</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
		<label class="layui-form-label">复核人员</label>
		<div class="layui-input-inline">
			<input type="text" name="title" required lay-verify="required" autocomplete="off"
			       class="layui-input">
		</div>
	</div>
	</div>
</form>

<script src="../../layui/lay/dest/layui.all.js"></script>
<script src="../../js/jquery-1.12.4.js"></script>
<script src="../../js/vue.js"></script>
<script>
    var layer = layui.layer;
    /* $.getJSON("/query",function (data) {
         layer.msg(JSON.stringify(data));
             $("#tab").html("");
         $.each(data,function (i,obj) {
             var tr = $("<tr></tr>");
             var td=$("<td class='detaid'>"+obj.id+"</td><td><input type='text' class='form-control tbProdname' value="+obj.customer+"></td><td><input type='text' class='form-control tbAmount' value="+obj.sourcelist+"></td>" +
                 "<td><input type='text' class='form-control tbPrice' value="+obj.sourcenumber+"></td><td><input type='text' class='form-control tbMoneyAmt' disabled='disabled' value="+obj.fundbilldate+"></td><td><input type='checkbox' class='checkboxs'></td>" +
                 "<td><a href='javascript:;' class='detailRemove'><span class='glyphicon glyphicon-remove '></span></a></td>");
             tr.append(td);
             $("#tab").append(tr);
         })
    })*/

    //ajax全局设置
    $.ajaxSetup({
        timeout: 6000
    });
    $(document).ajaxError(function() {
        showAlertDialog('服务器异常');
    });
    //构建VM渲染引擎
    var vm = new Vue({
        el: "#vmindexCnt",
        data: {
            pageInfo: {}
        },
        created: function() {
            var vm = this;
            //读取restful
            vm.goToPage(null, 1);
        },
        methods: {
            goToPage: function(e, pageNum) {
                $.getJSON("http://172.20.0.26/zg/query/getAdvancereceipt",{
                    "page":pageNum
                }, function(data) {
                    vm.pageInfo = data;
                },"json");
            },
            /* updateInfo: function(e, pid) {
                 //利用缓存
                 window.sessionStorage.setItem("pid", pid);
                 alert("");
             },*/
            removeInfo: function(e, pid) {
                if (window.confirm('是否移除?')) {
                    $.post("http://172.20.0.26/zg/query/deleteAdvancereceipt",{
                        "fundbillid":fundbillid
                    }, function(data) {
                        if (data.code == 200) {
                            alert("移除成功");
                            vm.goToPage(null,1);
                        } else {
                            alert("移除失败");
                        }
                    },"json");

                }
            }
        }
    });




</script>
</body>
</html>
